var app=function(){var a="app fired!",b=document.documentElement;return{publicFunction:function(){console.log(a)},userAgentInit:function(){b.setAttribute("data-useragent",navigator.userAgent)}}}();!function(){$(document).foundation(),app.publicFunction(),app.userAgentInit()}(),function(){$(window).load(function(){$(".loader").fadeOut("slow")}),$(window).resize(function(){$(".container").css({height:$(window).height(),width:$(window).width()}),$(".weather-container").css({position:"absolute",left:($(window).width()-$(".weather-container").outerWidth())/2,top:($(window).height()-$(".weather-container").outerHeight())/2})}),$(window).resize()}(),function(a){var b=a.Clock=function(a,b,c,d,e){this.$minutes=a,this.$point=b,this.$hours=c,this.$date=d,this.$day=e,this.__initialize()},c=b.prototype;c.getMinute=function(){var a=(new Date).getMinutes();this.$minutes.html((10>a?"0":"")+a)},c.getHour=function(){var a=(new Date).getHours();a>12?a-=12:0===a&&(a=12),this.$hours.html((10>a?"0":"")+a)},c.checkTime=function(){var a=this;setInterval(function(){a.getMinute()},3e4),setInterval(function(){a.getHour()},3e4)},c.getDayDate=function(){var a=new Date,b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=a.getDate(),d=a.getMonth()+1,e=a.getFullYear(),f=b[a.getDay()];this.$day.html(f),this.$date.html(c+"/"+d+"/"+e)},c.__initialize=function(){this.getMinute(),this.getHour(),this.checkTime(),this.getDayDate()}}(window),function(a,b){var c=function(){throw"this is not to be instantiated"},d=c,e=new b.BigVideo,f=["videos/clouds-vid.mp4","videos/sunny-vid.mp4","videos/overcast-vid.mp4","videos/fog-vid.mp4","videos/snow-vid.mp4","videos/rain-vid.mp4","videos/clearnight-vid.mp4","videos/cloudynight-vid.mp4"],g=["images/backgrounds/cloudy-bg.jpg","images/backgrounds/sunny-bg.jpg","images/backgrounds/overcast-bg.jpg","images/backgrounds/fog-bg.jpg","images/backgrounds/winter-bg.jpg","images/backgrounds/rain-bg.jpg","images/backgrounds/clearnight-bg.jpg","images/backgrounds/cloudynight-bg.jpg"];e.init(),a.BV=e,d.$temperature=b("#temperature"),d.$aTemperature=b("#atemperature"),d.$summary=b("#summary"),d.$icon=b("#icon"),d.$wind=b("#wind"),d.$pop=b("#pop"),d.$humidity=b("#humidity"),d._apiKey="8638f2d6a266f36f9ed32a2e21ad4174",d._currentTemperature=null,d._celsius=null,d.clock=null,d.__initialize=function(){d.getLocation(function(a){d.getForecast(a?"https://api.forecast.io/forecast/"+d._apiKey+"/"+a.loc:"https://api.forecast.io/forecast/"+d._apiKey+"/43.6486,-79.3853")}),d.clock=new Clock(b("#minutes"),b("#point"),b("#hours"),b("#date"),b("#day")),setInterval(d.getForecast,9e5)},d.getLocation=function(a){b.ajax({url:"http://ipinfo.io",dataType:"jsonp"}).done(function(b){a(b)})},d.getCelsius=function(a){return Math.round(5*(a-32)/9)},d.displayBG=function(a){switch(a){case"clear-day":Modernizr.touch?e.show(g[1]):e.show(f[1],{ambient:!0}),d.$icon.attr("data-icon","B");break;case"rain":Modernizr.touch?e.show(g[5]):e.show(f[5],{ambient:!0}),d.$icon.attr("data-icon","R");break;case"snow":Modernizr.touch?e.show(g[4]):e.show(f[4],{ambient:!0}),d.$icon.attr("data-icon","W");break;case"sleet":Modernizr.touch?e.show(g[5]):e.show(f[5],{ambient:!0}),d.$icon.attr("data-icon","X");break;case"wind":Modernizr.touch?e.show(g[0]):e.show(f[0],{ambient:!0}),d.$icon.attr("data-icon","S");break;case"fog":Modernizr.touch?e.show(g[3]):e.show(f[3],{ambient:!0}),d.$icon.attr("data-icon","M");break;case"cloudy":Modernizr.touch?e.show(g[2]):e.show(f[2],{ambient:!0}),d.$icon.attr("data-icon","Y");break;case"partly-cloudy-day":Modernizr.touch?e.show(g[0]):e.show(f[0],{ambient:!0}),d.$icon.attr("data-icon","H");break;case"partly-cloudy-night":Modernizr.touch?e.show(g[7]):e.show(f[7],{ambient:!0}),d.$icon.attr("data-icon","I");break;case"clear-night":Modernizr.touch?e.show(g[6]):e.show(f[6],{ambient:!0}),d.$icon.attr("data-icon","C");break;default:Modernizr.touch?e.show(g[0]):e.show(f[0],{ambient:!0}),d.$icon.attr("data-icon","Y")}},d.getWindSpeed=function(a){return Math.round(1.60934*a)},d.getWindDir=function(a){var b;return b=0===a?"N":a>0&&90>a?"NE":90===a?"E":a>90&&180>a?"SE":180===a?"S":a>180&&270>a?"SW":270===a?"W":a>270&&360>a?"NW":""},d.getPOP=function(a){return Math.round(100*a)+"%"},d.getHumidity=function(a){return Math.round(100*a)+"%"},d.updateDisplay=function(){d._temperature=d.getCelsius(d._currentTemperature.temperature),d._aTemperature=d.getCelsius(d._currentTemperature.apparentTemperature),d._summary=d._currentTemperature.summary,d._icon=d._currentTemperature.icon,d._windSpeed=d.getWindSpeed(d._currentTemperature.windSpeed),d._windDir=d.getWindDir(d._currentTemperature.windBearing),d._pop=d.getPOP(d._currentTemperature.precipProbability),d._humidity=d.getHumidity(d._currentTemperature.humidity),d.displayBG(d._icon),d.$temperature.html(d._temperature+"<sup>Â°</sup>"),d.$aTemperature.html("<strong>Feels like "+d._aTemperature+"</strong>"),d.$summary.html(d._summary),d.$wind.html("Wind "+d._windDir+" "+d._windSpeed+" km/h"),d.$pop.html("P.O.P. "+d._pop),d.$humidity.html("Humidity "+d._humidity)},d.getForecast=function(a){b.ajax({url:a,dataType:"jsonp"}).done(function(a){d._currentTemperature=a.currently,console.log(d._currentTemperature),d.updateDisplay()})},a.Forecast=d,a.Forecast.__initialize()}(window,jQuery);